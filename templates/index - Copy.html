<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flask Plotlyjs Example</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="pie"></div>
    <script>        
        // Plot the default route once the page loads
        //var url = "/samples/BB_940";
        //Plotly.d3.json(url, function(error, data) {
            //if (error) return console.warn(error);
            var data = [
            {
                "hovertext": [
                "Bacteria;Bacteroidetes;Bacteroidia;Bacteroidales;Porphyromonadaceae;Porphyromonas", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI;Peptoniphilus", 
                "Bacteria", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI", 
                "Bacteria", 
                "Bacteria;Bacteroidetes;Bacteroidia;Bacteroidales;Porphyromonadaceae;Porphyromonas", 
                "Bacteria", 
                "Bacteria", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI;Anaerococcus"
                ], 
                "labels": [
                1167, 
                2859, 
                482, 
                2264, 
                41, 
                1189, 
                352, 
                189, 
                1977, 
                2318
                ], 
                "type": "pie", 
                "values": [
                163.0, 
                126.0, 
                113.0, 
                78.0, 
                71.0, 
                51.0, 
                50.0, 
                47.0, 
                40.0, 
                40.0
                ]
            }
            ]
            
            var layout = {
                title: "Test Graph",
                showlegend: true};
            var PIE = document.getElementById('pie');
            Plotly.plot(PIE, data, layout)
        //})

        //function updatePlotly(newdata){
            //var PIE = document.getElementById('pie');
            //Plotly.restyle(PIE, 'values', [newdata.values]);
            //Plotly.restyle(PIE, 'hovertext', [newdata.hovertext]);
            //Plotly.restyle(PIE, 'labels', [newdata.labels])
        //}

        //function getData(route){
            //Plotly.d3.json(`/samples/${route}`, function(error, data){
                //updatePlotly(data);
            //});
        //}   
    </script>

    <div id="plot"></div>
    <script>
        var data1 = [
            {
                hovertext: [
                "Bacteria;Bacteroidetes;Bacteroidia;Bacteroidales;Porphyromonadaceae;Porphyromonas", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI;Peptoniphilus", 
                "Bacteria", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI", 
                "Bacteria", 
                "Bacteria;Bacteroidetes;Bacteroidia;Bacteroidales;Porphyromonadaceae;Porphyromonas", 
                "Bacteria", 
                "Bacteria", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales", 
                "Bacteria;Firmicutes;Clostridia;Clostridiales;IncertaeSedisXI;Anaerococcus"
                ], 
                x: [
                1167, 
                2859, 
                482, 
                2264, 
                41, 
                1189, 
                352, 
                189, 
                1977, 
                2318
                ], 
                mode: "markers", 
                marker: {
                    size: [
                            163.0, 
                            126.0, 
                            113.0, 
                            78.0, 
                            71.0, 
                            51.0, 
                            50.0, 
                            47.0, 
                            40.0, 
                            40.0
                            ]
                },
                y: [
                163.0, 
                126.0, 
                113.0, 
                78.0, 
                71.0, 
                51.0, 
                50.0, 
                47.0, 
                40.0, 
                40.0
                ]
            }
            ]
            var layout = {
                title: 'Marker Size',
                showlegend: false,
                height: 600,
                width: 1200
                };
            var PLOT = document.getElementById('plot');
            Plotly.plot(PLOT, data1, layout)
    </script>
   
    <select id='selDataset' onchange='getData(this.value)'>
        <option value='BB_940'>BB_940</option>
        <option value='BB_941'>BB_941</option>
    </select>
</body>
</html>
